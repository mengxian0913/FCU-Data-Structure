% !TeX encoding = UTF-8
% !TeX program = xelatex
\documentclass[12pt, a4paper]{article}
\usepackage[CheckSingle, CJKmath]{xeCJK}
\usepackage{fontspec}
\usepackage{graphicx} % 插入圖片
\usepackage{caption}
\usepackage{enumerate}
\usepackage{setspace}
\usepackage{array} % 製作表格必須的宏包
\usepackage{tabularx} % 自動調整列寬的表格宏包
\usepackage{adjustbox}
\usepackage{geometry} 

\input{../../latex_template/code_setting.tex}

\setCJKfamilyfont{heiti}{Heiti TC}
\CJKfamily{heiti}
\setmainfont{Arial}
\setstretch{1.5}


\usepackage{amsthm}                             %定義，例題
\usepackage{amssymb}
\usepackage{fancyhdr}                           %設定頁首頁尾
\usepackage{titlesec}
\usepackage{amsmath}
\usepackage{CJKulem}
\usepackage{amsmath, courier, listings, fancyhdr, graphicx}
\usepackage{listings}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{times}
\usepackage{listings}
\usepackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\topmargin=0pt
\headsep=2pt
\textheight=740pt
\footskip=0pt
\voffset=-50pt
\textwidth=545pt
\marginparsep=0pt
\marginparwidth=0pt
\marginparpush=0pt
\oddsidemargin=0pt
\evensidemargin=0pt
\hoffset=-42pt


\setmainfont[
    AutoFakeSlant,
    BoldItalicFeatures={FakeSlant},
    UprightFont={*},
    BoldFont={*-Bold}
]{Inconsolata}

\setmonofont[
    AutoFakeSlant,
    BoldItalicFeatures={FakeSlant},
    BoldFont={*-Bold}
]{Inconsolata}


\lstset{                                        % Code顯示
    language=C++,                               % the language of the code
    basicstyle=\footnotesize\ttfamily,          % the size of the fonts that are used for the code
    numbers=left,                               % where to put the line-numbers
    numberstyle=\scriptsize,                    % the size of the fonts that are used for the line-numbers
    stepnumber=1,                               % the step between two line-numbers. If it's 1, each line  will be numbered
    numbersep=5pt,                              % how far the line-numbers are from the code
    backgroundcolor=\color{white},              % choose the background color. You must add \usepackage{color}
    showspaces=false,                           % show spaces adding particular underscores
    showstringspaces=false,                     % underline spaces within strings
    showtabs=false,                             % show tabs within strings adding particular underscores
    frame=false,                                % adds a frame around the code
    tabsize=2,                                  % sets default tabsize to 2 spaces
    captionpos=b,                               % sets the caption-position to bottom
    breaklines=true,                            % sets automatic line breaking
    breakatwhitespace=true,                     % sets if automatic breaks should only happen at whitespace
    escapeinside={\%*}{*)},                     % if you want to add a comment within your code
    morekeywords={*},                           % if you want to add more keywords to the set
    keywordstyle=\bfseries\color{Blue1},
    commentstyle=\itshape\color{Red1},
    stringstyle=\itshape\color{Green4},
}






\begin{document}
  \begin{center}
    {\Huge 資料結構實習} \\[2.5cm]
    {\Huge 10/06 作業報告} \\[1.5cm]
    {\Huge 多項式ADT實作} \\ [4.5cm]
    \hspace{.6in}
    \begin{minipage}[t]{.4\linewidth}
      {\Large 班級：資訊二甲}\\[0.5cm]
      {\Large 學號：D1109023}\\[0.5cm]
      {\Large 姓名：楊孟憲}
    \end{minipage}    
  \end{center}

  \newpage

  \begin{samepage}
    \fontsize{18pt}{20pt} \selectfont  
    % 生成目錄
    \tableofcontents
    \normalfont
  \end{samepage}
  
  \newpage


  \section{\fontsize{20pt}{22pt}\selectfont 引言}
  \begin{samepage}
    \fontsize{16pt}{18pt} \selectfont
    今天要使用 struct (結構) 來實作多項式的操作運算。
    \lstinputlisting[language=C++]{../code/template.cpp}
  \end{samepage}

  % 第一個章節

  \section{\fontsize{20pt}{22pt}\selectfont 題目敘述}
  \begin{samepage}
    \fontsize{16pt}{18pt} \selectfont
        題意說明:撰寫一個程式，讀取 B1.txt 以及 B2.txt 多項式內容，並包含以下功能。
        請提供選單的方式，讓使用者能夠對此多項式 ADT 做操作：
        \begin{enumerate}
            \fontsize{14pt}{16pt} \selectfont
            \item 讀入多項式
            \item 印出多項式內容
            \item 多項式相加
            \item 多項式乘上一數值
            \item 印出多項式中最大指數的係數
            \item 新增項式
            \item 刪除多項式中的項
            \item 多項式相乘
        \end{enumerate}
  \end{samepage}
  % 第二個章節

  \section{\fontsize{20pt}{22pt}\selectfont 作法}
  % 第二章節的子章節
  \begin{samepage}
    \fontsize{16pt}{18pt} \selectfont
    因為這個題目需要不斷輸入你所需要的功能 $(1 \sim 8)$，所以使用 while loop 來做最外圍的流程控制，依照不同的輸入來呼叫相對應功能的函式。
    以下介紹代碼中的函式( 程式碼講解在註解裡 )
    \begin{enumerate}
      \item void MyPoly::refresh(const char* filename)
      \lstinputlisting[language=C++]{../code/src/refreash.cpp}
      \item void MyPoly::ShowPoly() 
      \lstinputlisting[language=C++]{../code/src/show.cpp}
      \item mypoly mypoly::add(mypoly poly2)
      \lstinputlisting[language=C++]{../code/src/add.cpp}
      \item void MyPoly::SingleMult(int n)
      \lstinputlisting[language=C++]{../code/src/SingleMulit.cpp}
      \item int MyPoly::Lead＿Exp()
      \lstinputlisting[language=C++]{../code/src/LeadExp.cpp}
      \item void MyPoly::Attach(int coef, int expon)
      \lstinputlisting[language=C++]{../code/src/Attach.cpp}
      \item void MyPoly::Remove(int expon)
      \lstinputlisting[language=C++]{../code/src/Remove.cpp}
      \item MyPoly MyPoly::Mult(MyPoly poly2)
      \lstinputlisting[language=C++]{../code/src/Mult.cpp}
    \end{enumerate}
    \normalfont
  \end{samepage}

  \section{\fontsize{20pt}{22pt}\selectfont 執行結果}
  % 第三個章節
      \fontsize{16pt}{18pt} \selectfont
        輸入輸出結果：(每次輸入後都會輸出結果)
        \begin{figure}[ht]
          \centering
          \includegraphics[width=0.6\textwidth]{./image/output.png}
          \caption{選單}
        \end{figure}

        \begin{figure}
          \centering
          \includegraphics[width=0.6\textwidth]{./image/Show.png}
          \caption{輸入2}
        \end{figure}

        \begin{figure}
          \centering
          \includegraphics[width=0.6\textwidth]{./image/Add.png}
          \caption{輸入3}
        \end{figure}

        
        \begin{figure}
          \centering
          \includegraphics[width=0.6\textwidth]{./image/SingleMult.png}
          \caption{輸入4}
        \end{figure}

        \begin{figure}
          \centering
          \includegraphics[width=0.6\textwidth]{./image/LeadExp.png}
          \caption{輸入5}
        \end{figure}

        \begin{figure}
          \centering
          \includegraphics[width=0.6\textwidth]{./image/Attach.png}
          \caption{輸入6}
        \end{figure}
          
        \begin{figure}
          \centering
          \includegraphics[width=0.6\textwidth]{./image/Remove.png}
          \caption{輸入7}
        \end{figure}

        \begin{figure}
          \centering
          \includegraphics[width=0.6\textwidth]{./image/Mult.png}
          \caption{輸入8}
        \end{figure}


      \normalsize

  \section{\fontsize{20pt}{22pt}\selectfont 心得與討論}
  \begin{samepage}
    \fontsize{16pt}{18pt} \selectfont
      這次的功課實作的部分非常多，在操作不同成員的陣列也要非常小心，陣列索引值需注意現在的變數屬於哪一個而去指定。
      整體來說我覺得可以優化的部分有：陣列可以更改成可以擴充的 vector 等，如此一來，也比較不會操作到不同成員的索引值，而且在做擴充或是刪除的動作也比較簡單。
      以及在 struct 內可以自行定義 operator 排序的方式，這樣就不需每次操作完都排序過。我覺得這次作業能讓我更加了清楚構變數以及函示的使用。
    \normalfont
  \end{samepage}
  % 最後一個章節
\end{document}
